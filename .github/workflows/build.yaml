name: "iso"

on:
  workflow_dispatch:
  push:
    branches:
      - master
    tags:
      - '*'
  pull_request:
    branches:
      - master

jobs:
  buildiso:
    runs-on: ubuntu-24.04-arm
    name: build
    container:
      image: alpine:latest
    steps:
      - name: "install base deps"
        run: apk add curl cmake gettext-dev gperf libtermkey-dev libuv-dev libvterm-dev lua-luv-dev lua5.1-mpack msgpack-c-dev samurai tree-sitter-dev unibilium-dev
      - name: "clone root"
        run: git clone --depth=1 "https://github.com/seanenck/alpine-utils"
      - name: "run neovim build"
        run: cd alpine-utils/neovim && ./configure
